// Taxman - Hybrid Taxonomy Management System
import { LineEdit, Button, StandardListView, GridBox, HorizontalBox, VerticalBox } from "std-widgets.slint";

export component MainWindow inherits Window {
    // Window properties
    in property <string> window-title <=> root.title;
    in property <string> status-message;
    in property <string> taxonomy-description;
    in property <string> hierarchy-root;
    in property <[StandardListViewItem]> items-list;

    // File operation callbacks
    callback file-open();
    callback file-save();
    callback file-save-as();
    callback file-new();

    min-width: 800px;
    min-height: 600px;

    VerticalBox {
        // Toolbar
        HorizontalBox {
            height: 40px;
            padding: 8px;
            spacing: 8px;

            Button {
                text: "New";
                clicked => { root.file-new(); }
            }

            Button {
                text: "Open...";
                clicked => { root.file-open(); }
            }

            Button {
                text: "Save";
                clicked => { root.file-save(); }
            }

            Button {
                text: "Save As...";
                clicked => { root.file-save-as(); }
            }
        }

        // Main content area
        VerticalBox {
            padding: 16px;
            spacing: 16px;

            // Taxonomy description
            if root.taxonomy-description != "" : VerticalBox {
                spacing: 4px;
                Text {
                    text: "Description:";
                    font-weight: 700;
                }
                Text {
                    text: root.taxonomy-description;
                    wrap: word-wrap;
                }
            }

            // Hierarchy root
            if root.hierarchy-root != "" : HorizontalBox {
                spacing: 8px;
                Text {
                    text: "Hierarchy Root:";
                    font-weight: 700;
                }
                Text {
                    text: root.hierarchy-root;
                }
            }

            // Items list
            if root.items-list.length > 0 : VerticalBox {
                spacing: 8px;
                Text {
                    text: "Items:";
                    font-weight: 700;
                }
                StandardListView {
                    model: root.items-list;
                }
            }

            // Empty state
            if root.taxonomy-description == "" && root.hierarchy-root == "" : VerticalBox {
                alignment: center;
                Text {
                    text: "No taxonomy loaded";
                    font-size: 18px;
                    horizontal-alignment: center;
                }
                Text {
                    text: "Click 'Open...' to load a taxonomy file or 'New' to create one";
                    horizontal-alignment: center;
                }
            }
        }

        // Status bar
        Rectangle {
            height: 30px;
            background: #f0f0f0;

            HorizontalBox {
                padding: 8px;

                Text {
                    text: root.status-message;
                    vertical-alignment: center;
                }
            }
        }
    }
}